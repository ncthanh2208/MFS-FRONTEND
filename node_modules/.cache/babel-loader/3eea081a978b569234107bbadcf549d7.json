{"ast":null,"code":"var _jsxFileName = \"D:\\\\MSF\\\\MSF-FRONTEND\\\\lib\\\\src\\\\components\\\\files\\\\updatefile\\\\UpdateFileIndex.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport Http from '../../../http/apiService';\nimport { TextField, MenuItem, Select, InputLabel } from '@material-ui/core';\nimport { Button } from '@material-ui/core';\nimport { useHistory } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst UpdateFileIndex = () => {\n  _s();\n\n  let history = useHistory();\n  const [data, setData] = useState();\n  const [infoFile, setInfoFile] = useState();\n\n  const GetFile = async () => {\n    const currentHref = window.location.href.split('/');\n    const id = currentHref[currentHref.length - 1];\n    const url = '/files/getfile/' + id;\n    const resp = await Http.getSth(url);\n    setData(resp.data);\n  };\n\n  const handleChange = event => {\n    setInfoFile({ ...infoFile,\n      [event.target.name]: event.target.value,\n      [event.target.name]: event.target.value\n    });\n  };\n\n  const handleUpdateFile = async () => {\n    const url = '/files/' + data.id;\n    const response = await Http.putSth(url, infoFile);\n    alert(\"Successful!!!!!\");\n    const urlHistory = '/user/' + data.userName;\n    history.push('/admin');\n  };\n\n  useEffect(() => {\n    GetFile();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: data && /*#__PURE__*/_jsxDEV(TextField, {\n        id: \"standard-basic\",\n        label: \"File Name\",\n        disabled: true,\n        defaultValue: data === null || data === void 0 ? void 0 : data.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 26\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: data && /*#__PURE__*/_jsxDEV(TextField, {\n        id: \"standard-basic\",\n        label: \"Category\",\n        onChange: handleChange,\n        defaultValue: data === null || data === void 0 ? void 0 : data.category,\n        name: \"category\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 26\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: data && /*#__PURE__*/_jsxDEV(TextField, {\n        id: \"standard-basic\",\n        label: \"Comment\",\n        onChange: handleChange,\n        defaultValue: data === null || data === void 0 ? void 0 : data.comment,\n        name: \"comment\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 26\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      onClick: handleUpdateFile,\n      children: \"Update\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(UpdateFileIndex, \"kHzZ5N92SwLUdHMj8QBEV8Bj/8I=\", false, function () {\n  return [useHistory];\n});\n\n_c = UpdateFileIndex;\nexport default UpdateFileIndex;\n\nvar _c;\n\n$RefreshReg$(_c, \"UpdateFileIndex\");","map":{"version":3,"sources":["D:/MSF/MSF-FRONTEND/lib/src/components/files/updatefile/UpdateFileIndex.js"],"names":["React","useState","useEffect","Http","TextField","MenuItem","Select","InputLabel","Button","useHistory","UpdateFileIndex","history","data","setData","infoFile","setInfoFile","GetFile","currentHref","window","location","href","split","id","length","url","resp","getSth","handleChange","event","target","name","value","handleUpdateFile","response","putSth","alert","urlHistory","userName","push","category","comment"],"mappings":";;;AACA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,IAAP,MAAiB,0BAAjB;AACA,SAASC,SAAT,EAAoBC,QAApB,EAA8BC,MAA9B,EAAsCC,UAAtC,QAAwD,mBAAxD;AAEA,SAASC,MAAT,QAAuB,mBAAvB;AACA,SAASC,UAAT,QAA2B,kBAA3B;;;;AAGA,MAAMC,eAAe,GAAG,MAAM;AAAA;;AAE1B,MAAIC,OAAO,GAAGF,UAAU,EAAxB;AACA,QAAM,CAACG,IAAD,EAAOC,OAAP,IAAkBZ,QAAQ,EAAhC;AACA,QAAM,CAACa,QAAD,EAAWC,WAAX,IAA0Bd,QAAQ,EAAxC;;AAEA,QAAMe,OAAO,GAAG,YAAY;AACxB,UAAMC,WAAW,GAAGC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqBC,KAArB,CAA2B,GAA3B,CAApB;AACA,UAAMC,EAAE,GAAGL,WAAW,CAACA,WAAW,CAACM,MAAZ,GAAqB,CAAtB,CAAtB;AACA,UAAMC,GAAG,GAAG,oBAAoBF,EAAhC;AACA,UAAMG,IAAI,GAAG,MAAMtB,IAAI,CAACuB,MAAL,CAAYF,GAAZ,CAAnB;AACAX,IAAAA,OAAO,CAACY,IAAI,CAACb,IAAN,CAAP;AACH,GAND;;AAQA,QAAMe,YAAY,GAAIC,KAAD,IAAW;AAC5Bb,IAAAA,WAAW,CAAC,EAAC,GAAGD,QAAJ;AAAc,OAACc,KAAK,CAACC,MAAN,CAAaC,IAAd,GAAqBF,KAAK,CAACC,MAAN,CAAaE,KAAhD;AAAuD,OAACH,KAAK,CAACC,MAAN,CAAaC,IAAd,GAAqBF,KAAK,CAACC,MAAN,CAAaE;AAAzF,KAAD,CAAX;AACH,GAFD;;AAIA,QAAMC,gBAAgB,GAAE,YAAY;AAChC,UAAMR,GAAG,GAAG,YAAWZ,IAAI,CAACU,EAA5B;AACA,UAAMW,QAAQ,GAAG,MAAM9B,IAAI,CAAC+B,MAAL,CAAYV,GAAZ,EAAgBV,QAAhB,CAAvB;AAEAqB,IAAAA,KAAK,CAAC,iBAAD,CAAL;AACA,UAAMC,UAAU,GAAG,WAASxB,IAAI,CAACyB,QAAjC;AACA1B,IAAAA,OAAO,CAAC2B,IAAR,CAAa,QAAb;AACH,GAPD;;AASApC,EAAAA,SAAS,CAAC,MAAM;AACZc,IAAAA,OAAO;AACV,GAFQ,EAEN,EAFM,CAAT;AAGA,sBACI;AAAA,4BACI;AAAA,gBACKJ,IAAI,iBAAI,QAAC,SAAD;AAAY,QAAA,EAAE,EAAC,gBAAf;AAAgC,QAAA,KAAK,EAAC,WAAtC;AAAkD,QAAA,QAAQ,MAA1D;AAA2D,QAAA,YAAY,EAAEA,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEkB;AAA/E;AAAA;AAAA;AAAA;AAAA;AADb;AAAA;AAAA;AAAA;AAAA,YADJ,eAII;AAAA,gBACKlB,IAAI,iBAAI,QAAC,SAAD;AAAY,QAAA,EAAE,EAAC,gBAAf;AAAgC,QAAA,KAAK,EAAC,UAAtC;AAAiD,QAAA,QAAQ,EAAEe,YAA3D;AAAyE,QAAA,YAAY,EAAEf,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAE2B,QAA7F;AAAuG,QAAA,IAAI,EAAC;AAA5G;AAAA;AAAA;AAAA;AAAA;AADb;AAAA;AAAA;AAAA;AAAA,YAJJ,eAOI;AAAA,gBACK3B,IAAI,iBAAI,QAAC,SAAD;AAAY,QAAA,EAAE,EAAC,gBAAf;AAAgC,QAAA,KAAK,EAAC,SAAtC;AAAgD,QAAA,QAAQ,EAAEe,YAA1D;AAAwE,QAAA,YAAY,EAAEf,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAE4B,OAA5F;AAAqG,QAAA,IAAI,EAAC;AAA1G;AAAA;AAAA;AAAA;AAAA;AADb;AAAA;AAAA;AAAA;AAAA,YAPJ,eAUI,QAAC,MAAD;AAAQ,MAAA,OAAO,EAAER,gBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAVJ;AAAA,kBADJ;AAcH,CA5CD;;GAAMtB,e;UAEYD,U;;;KAFZC,e;AAgDN,eAAeA,eAAf","sourcesContent":["\r\nimport React, { useState, useEffect } from 'react';\r\nimport Http from '../../../http/apiService';\r\nimport { TextField, MenuItem, Select, InputLabel } from '@material-ui/core';\r\n\r\nimport { Button } from '@material-ui/core';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\n\r\nconst UpdateFileIndex = () => {\r\n\r\n    let history = useHistory();\r\n    const [data, setData] = useState();\r\n    const [infoFile, setInfoFile] = useState();\r\n\r\n    const GetFile = async () => {\r\n        const currentHref = window.location.href.split('/');\r\n        const id = currentHref[currentHref.length - 1];\r\n        const url = '/files/getfile/' + id;\r\n        const resp = await Http.getSth(url)\r\n        setData(resp.data);\r\n    }   \r\n    \r\n    const handleChange = (event) => {\r\n        setInfoFile({...infoFile, [event.target.name]: event.target.value, [event.target.name]: event.target.value});\r\n    }\r\n\r\n    const handleUpdateFile =async () => {\r\n        const url = '/files/'+ data.id;\r\n        const response = await Http.putSth(url,infoFile)\r\n\r\n        alert(\"Successful!!!!!\")\r\n        const urlHistory = '/user/'+data.userName;\r\n        history.push('/admin')\r\n    }\r\n\r\n    useEffect(() => {\r\n        GetFile();\r\n    }, []);\r\n    return(\r\n        <>\r\n            <div>\r\n                {data && <TextField  id=\"standard-basic\" label=\"File Name\" disabled defaultValue={data?.name} />}\r\n            </div>\r\n            <div>\r\n                {data && <TextField  id=\"standard-basic\" label=\"Category\" onChange={handleChange} defaultValue={data?.category} name='category'/>}\r\n            </div>\r\n            <div>\r\n                {data && <TextField  id=\"standard-basic\" label=\"Comment\" onChange={handleChange} defaultValue={data?.comment} name='comment'/>}\r\n            </div>\r\n            <Button onClick={handleUpdateFile} >Update</Button>\r\n        </>\r\n    )\r\n}\r\n\r\n\r\n\r\nexport default UpdateFileIndex;"]},"metadata":{},"sourceType":"module"}